SET NAMES utf8mb4;
CREATE TABLE t0 (a TEXT CHARACTER SET utf8mb4);
INSERT INTO t0 VALUES (''),('c'),('h'),('C'),('H');
CREATE VIEW v0 AS SELECT CONCAT(t1.a, t2.a) AS str FROM t0 t1, t0 t2;
CREATE TABLE t1 (str TEXT CHARACTER SET cp1250 COLLATE cp1250_czech_cs);
INSERT INTO t1 SELECT * FROM v0;
CALL test_strnxfrm(10,12,0xC1);
seq	str	srcused	warn	h	ws
1		0	0	                	00
2		0	0	                	0000
3		0	0	                	000000
4		0	0	                	00000000
5		0	0	                	0000000000
6		0	0	                	000000000000
7		0	0	                	00000000000000
8		0	0	                	0000000000000000
9		0	0	                	000000000000000000
10		0	0	                	00000000000000000000
11		0	0	                	0000000000000000000000
12		0	0	                	000000000000000000000000
1	C	2	0	43              	A6
2	C	2	0	43              	A600
3	C	2	0	43              	A60000
4	C	2	0	43              	A6000000
5	C	2	0	43              	A600000000
6	C	2	0	43              	A60000000000
7	C	2	0	43              	A6000000000000
8	C	2	0	43              	A600000000000000
9	C	2	0	43              	A60000000000000000
10	C	2	0	43              	A6000000000000000000
11	C	2	0	43              	A600000000000000000000
12	C	2	0	43              	A60000000000000000000000
1	CC	2	2	4343            	A6^
2	CC	4	0	4343            	A6A6
3	CC	4	0	4343            	A6A600
4	CC	4	0	4343            	A6A60000
5	CC	4	0	4343            	A6A6000000
6	CC	4	0	4343            	A6A600000000
7	CC	4	0	4343            	A6A60000000000
8	CC	4	0	4343            	A6A6000000000000
9	CC	4	0	4343            	A6A600000000000000
10	CC	4	0	4343            	A6A60000000000000000
11	CC	4	0	4343            	A6A6000000000000000000
12	CC	4	0	4343            	A6A600000000000000000000
1	CH	4	0	4348            	AD
2	CH	4	0	4348            	AD00
3	CH	4	0	4348            	AD0000
4	CH	4	0	4348            	AD000000
5	CH	4	0	4348            	AD00000000
6	CH	4	0	4348            	AD0000000000
7	CH	4	0	4348            	AD000000000000
8	CH	4	0	4348            	AD00000000000000
9	CH	4	0	4348            	AD0000000000000000
10	CH	4	0	4348            	AD000000000000000000
11	CH	4	0	4348            	AD00000000000000000000
12	CH	4	0	4348            	AD0000000000000000000000
1	Cc	2	2	4363            	A6^
2	Cc	4	0	4363            	A6A6
3	Cc	4	0	4363            	A6A600
4	Cc	4	0	4363            	A6A60000
5	Cc	4	0	4363            	A6A6000000
6	Cc	4	0	4363            	A6A600000000
7	Cc	4	0	4363            	A6A60000000000
8	Cc	4	0	4363            	A6A6000000000000
9	Cc	4	0	4363            	A6A600000000000000
10	Cc	4	0	4363            	A6A60000000000000000
11	Cc	4	0	4363            	A6A6000000000000000000
12	Cc	4	0	4363            	A6A600000000000000000000
1	Ch	4	0	4368            	AD
2	Ch	4	0	4368            	AD00
3	Ch	4	0	4368            	AD0000
4	Ch	4	0	4368            	AD000000
5	Ch	4	0	4368            	AD00000000
6	Ch	4	0	4368            	AD0000000000
7	Ch	4	0	4368            	AD000000000000
8	Ch	4	0	4368            	AD00000000000000
9	Ch	4	0	4368            	AD0000000000000000
10	Ch	4	0	4368            	AD000000000000000000
11	Ch	4	0	4368            	AD00000000000000000000
12	Ch	4	0	4368            	AD0000000000000000000000
1	H	2	0	48              	AC
2	H	2	0	48              	AC00
3	H	2	0	48              	AC0000
4	H	2	0	48              	AC000000
5	H	2	0	48              	AC00000000
6	H	2	0	48              	AC0000000000
7	H	2	0	48              	AC000000000000
8	H	2	0	48              	AC00000000000000
9	H	2	0	48              	AC0000000000000000
10	H	2	0	48              	AC000000000000000000
11	H	2	0	48              	AC00000000000000000000
12	H	2	0	48              	AC0000000000000000000000
1	HC	2	2	4843            	AC^
2	HC	4	0	4843            	ACA6
3	HC	4	0	4843            	ACA600
4	HC	4	0	4843            	ACA60000
5	HC	4	0	4843            	ACA6000000
6	HC	4	0	4843            	ACA600000000
7	HC	4	0	4843            	ACA60000000000
8	HC	4	0	4843            	ACA6000000000000
9	HC	4	0	4843            	ACA600000000000000
10	HC	4	0	4843            	ACA60000000000000000
11	HC	4	0	4843            	ACA6000000000000000000
12	HC	4	0	4843            	ACA600000000000000000000
1	HH	2	2	4848            	AC^
2	HH	4	0	4848            	ACAC
3	HH	4	0	4848            	ACAC00
4	HH	4	0	4848            	ACAC0000
5	HH	4	0	4848            	ACAC000000
6	HH	4	0	4848            	ACAC00000000
7	HH	4	0	4848            	ACAC0000000000
8	HH	4	0	4848            	ACAC000000000000
9	HH	4	0	4848            	ACAC00000000000000
10	HH	4	0	4848            	ACAC0000000000000000
11	HH	4	0	4848            	ACAC000000000000000000
12	HH	4	0	4848            	ACAC00000000000000000000
1	Hc	2	2	4863            	AC^
2	Hc	4	0	4863            	ACA6
3	Hc	4	0	4863            	ACA600
4	Hc	4	0	4863            	ACA60000
5	Hc	4	0	4863            	ACA6000000
6	Hc	4	0	4863            	ACA600000000
7	Hc	4	0	4863            	ACA60000000000
8	Hc	4	0	4863            	ACA6000000000000
9	Hc	4	0	4863            	ACA600000000000000
10	Hc	4	0	4863            	ACA60000000000000000
11	Hc	4	0	4863            	ACA6000000000000000000
12	Hc	4	0	4863            	ACA600000000000000000000
1	Hh	2	2	4868            	AC^
2	Hh	4	0	4868            	ACAC
3	Hh	4	0	4868            	ACAC00
4	Hh	4	0	4868            	ACAC0000
5	Hh	4	0	4868            	ACAC000000
6	Hh	4	0	4868            	ACAC00000000
7	Hh	4	0	4868            	ACAC0000000000
8	Hh	4	0	4868            	ACAC000000000000
9	Hh	4	0	4868            	ACAC00000000000000
10	Hh	4	0	4868            	ACAC0000000000000000
11	Hh	4	0	4868            	ACAC000000000000000000
12	Hh	4	0	4868            	ACAC00000000000000000000
1	c	2	0	63              	A6
2	c	2	0	63              	A600
3	c	2	0	63              	A60000
4	c	2	0	63              	A6000000
5	c	2	0	63              	A600000000
6	c	2	0	63              	A60000000000
7	c	2	0	63              	A6000000000000
8	c	2	0	63              	A600000000000000
9	c	2	0	63              	A60000000000000000
10	c	2	0	63              	A6000000000000000000
11	c	2	0	63              	A600000000000000000000
12	c	2	0	63              	A60000000000000000000000
1	cC	2	2	6343            	A6^
2	cC	4	0	6343            	A6A6
3	cC	4	0	6343            	A6A600
4	cC	4	0	6343            	A6A60000
5	cC	4	0	6343            	A6A6000000
6	cC	4	0	6343            	A6A600000000
7	cC	4	0	6343            	A6A60000000000
8	cC	4	0	6343            	A6A6000000000000
9	cC	4	0	6343            	A6A600000000000000
10	cC	4	0	6343            	A6A60000000000000000
11	cC	4	0	6343            	A6A6000000000000000000
12	cC	4	0	6343            	A6A600000000000000000000
1	cH	2	2	6348            	A6^
2	cH	4	0	6348            	A6AC
3	cH	4	0	6348            	A6AC00
4	cH	4	0	6348            	A6AC0000
5	cH	4	0	6348            	A6AC000000
6	cH	4	0	6348            	A6AC00000000
7	cH	4	0	6348            	A6AC0000000000
8	cH	4	0	6348            	A6AC000000000000
9	cH	4	0	6348            	A6AC00000000000000
10	cH	4	0	6348            	A6AC0000000000000000
11	cH	4	0	6348            	A6AC000000000000000000
12	cH	4	0	6348            	A6AC00000000000000000000
1	cc	2	2	6363            	A6^
2	cc	4	0	6363            	A6A6
3	cc	4	0	6363            	A6A600
4	cc	4	0	6363            	A6A60000
5	cc	4	0	6363            	A6A6000000
6	cc	4	0	6363            	A6A600000000
7	cc	4	0	6363            	A6A60000000000
8	cc	4	0	6363            	A6A6000000000000
9	cc	4	0	6363            	A6A600000000000000
10	cc	4	0	6363            	A6A60000000000000000
11	cc	4	0	6363            	A6A6000000000000000000
12	cc	4	0	6363            	A6A600000000000000000000
1	ch	4	0	6368            	AD
2	ch	4	0	6368            	AD00
3	ch	4	0	6368            	AD0000
4	ch	4	0	6368            	AD000000
5	ch	4	0	6368            	AD00000000
6	ch	4	0	6368            	AD0000000000
7	ch	4	0	6368            	AD000000000000
8	ch	4	0	6368            	AD00000000000000
9	ch	4	0	6368            	AD0000000000000000
10	ch	4	0	6368            	AD000000000000000000
11	ch	4	0	6368            	AD00000000000000000000
12	ch	4	0	6368            	AD0000000000000000000000
1	h	2	0	68              	AC
2	h	2	0	68              	AC00
3	h	2	0	68              	AC0000
4	h	2	0	68              	AC000000
5	h	2	0	68              	AC00000000
6	h	2	0	68              	AC0000000000
7	h	2	0	68              	AC000000000000
8	h	2	0	68              	AC00000000000000
9	h	2	0	68              	AC0000000000000000
10	h	2	0	68              	AC000000000000000000
11	h	2	0	68              	AC00000000000000000000
12	h	2	0	68              	AC0000000000000000000000
1	hC	2	2	6843            	AC^
2	hC	4	0	6843            	ACA6
3	hC	4	0	6843            	ACA600
4	hC	4	0	6843            	ACA60000
5	hC	4	0	6843            	ACA6000000
6	hC	4	0	6843            	ACA600000000
7	hC	4	0	6843            	ACA60000000000
8	hC	4	0	6843            	ACA6000000000000
9	hC	4	0	6843            	ACA600000000000000
10	hC	4	0	6843            	ACA60000000000000000
11	hC	4	0	6843            	ACA6000000000000000000
12	hC	4	0	6843            	ACA600000000000000000000
1	hH	2	2	6848            	AC^
2	hH	4	0	6848            	ACAC
3	hH	4	0	6848            	ACAC00
4	hH	4	0	6848            	ACAC0000
5	hH	4	0	6848            	ACAC000000
6	hH	4	0	6848            	ACAC00000000
7	hH	4	0	6848            	ACAC0000000000
8	hH	4	0	6848            	ACAC000000000000
9	hH	4	0	6848            	ACAC00000000000000
10	hH	4	0	6848            	ACAC0000000000000000
11	hH	4	0	6848            	ACAC000000000000000000
12	hH	4	0	6848            	ACAC00000000000000000000
1	hc	2	2	6863            	AC^
2	hc	4	0	6863            	ACA6
3	hc	4	0	6863            	ACA600
4	hc	4	0	6863            	ACA60000
5	hc	4	0	6863            	ACA6000000
6	hc	4	0	6863            	ACA600000000
7	hc	4	0	6863            	ACA60000000000
8	hc	4	0	6863            	ACA6000000000000
9	hc	4	0	6863            	ACA600000000000000
10	hc	4	0	6863            	ACA60000000000000000
11	hc	4	0	6863            	ACA6000000000000000000
12	hc	4	0	6863            	ACA600000000000000000000
1	hh	2	2	6868            	AC^
2	hh	4	0	6868            	ACAC
3	hh	4	0	6868            	ACAC00
4	hh	4	0	6868            	ACAC0000
5	hh	4	0	6868            	ACAC000000
6	hh	4	0	6868            	ACAC00000000
7	hh	4	0	6868            	ACAC0000000000
8	hh	4	0	6868            	ACAC000000000000
9	hh	4	0	6868            	ACAC00000000000000
10	hh	4	0	6868            	ACAC0000000000000000
11	hh	4	0	6868            	ACAC000000000000000000
12	hh	4	0	6868            	ACAC00000000000000000000
DROP TABLE t1;
DROP VIEW v0;
DROP TABLE t0;
